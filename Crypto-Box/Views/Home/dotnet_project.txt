*git installation*

yum install git -y

*jenkins installation* 

sudo wget -O /etc/yum.repos.d/jenkins.repo \
    https://pkg.jenkins.io/redhat/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io-2023.key
sudo yum upgrade
# Add required dependencies for the jenkins package
sudo yum install fontconfig java-21*
sudo yum install jenkins

*.net sdk-8 installationon*

sudo yum update -y
sudo yum install -y dotnet-sdk-8.0
 dotnet --version
 
*jenkins plugins*
 
 github 
 delivery plipeline
 deploy to container
 publish over ssh
 
*build steps*

cd /var/lib/jenkins/workspace/pulling_job/Crypto-Box
dotnet restore
dotnet build --configuration Release
dotnet test --no-build --configuration Release
rm -rf publish
dotnet publish --configuration Release --output publish

*ansible-server*

yum install ansible -y 
yum install docker -y
create user in ansible server 
visudo-ansadmin ALL=(ALL) NOPASSWD: ALL,
vi /etc/ssh/sshd_config - PasswordAuthentication yes
service sshd reload

In jenkins add ssh server 

build docker image in ansible server
------------------
# Use official ASP.NET Core runtime image (not SDK)
FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS base
WORKDIR /app

# Copy published files from Jenkins workspace into container
COPY . .

ENV ASPNETCORE_URLS=http://+:80

# Expose port (optional, for web apps)
EXPOSE 80

# Set the entrypoint to the app DLL
ENTRYPOINT ["dotnet", "Crypto-Box.dll"]

-------------------
sudo vi /etc/ansible/hosts
ssh-copy-id ansadmin@ansible-private-ip
*to enter ansible from itself ssh
(mkdir -p ~/.ssh
chmod 700 ~/.ssh
# Append your public key to authorized_keys
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys)



